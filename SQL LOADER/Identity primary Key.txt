SELECT STATIONID, STATIONCODE, STATIONNAME FROM STATIONS ORDER BY STATIONID;

SELECT * FROM TRAINS WHERE Trainid=54;

DELETE TRAINS WHERE Trainid=53;

SELECT * FROM STATIONS;

SELECT * FROM TRAINROUTES WHERE TRAINID=53;


DELETE TRAINROUTES WHERE TRAINID=53;

SELECT COLUMN_NAME,IDENTITY_COLUMN,DATA_DEFAULT
FROM USER_TAB_COLS
WHERE TABLE_NAME='TRAINROUTES'

ALTER TABLE TRAINROUTES
MODIFY ROUTEID GENERATED ALWAYS AS IDENTITY PRIMARY KEY;


INSERT INTO TRAINROUTES
(--ROUTEID,
TRAINID,
STATIONID,
STATIONORDER,
SCHEDULEARRIVAL,
SCHEDULEDEPARTURE,
PLATFORMNUMBER,
DAY,
DISTANCE)
VALUES (53,103,1,NULL,NULL,1,1,0);
 
SELECT TRAIN_BOOK.NEXTVAL FROM DUAL;

SELECT * FROM TRAINROUTES WHERE ROUTEID=102;

ALTER SEQUENCE TRAIN_BOOK INCREMENT BY 100;

CREATE OR REPLACE TRIGGER TRAINROUTES_BI
BEFORE INSERT ON TRAINROUTES
FOR EACH ROW
WHEN (NEW.ROUTEID IS NULL)
BEGIN
  :NEW.ROUTEID := TRAIN_BOOK.NEXTVAL;
END;	

ALTER TABLE TRAINROUTES
ADD CONSTRAINT PK_TRAINROUTES PRIMARY KEY (ROUTEID);

SELECT *
FROM USER_CONSTRAINTS
WHERE TABLE_NAME='TRAINROUTES';

ALTER TABLE TRAINROUTES
DROP CONSTRAINT SYS_C008613;



ALTER TABLE COACHES
MODIFY COACHID number GENERATED ALWAYS AS IDENTITY (START WITH 1005 INCREMENT BY 1);